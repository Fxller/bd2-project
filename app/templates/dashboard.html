{% extends 'base.html' %} {% block content %}
<h1 class="mb-4">Dashboard Statistiche</h1>

<div class="row mb-4">
  <div class="col-md-4">
    <div class="card text-bg-primary">
      <div class="card-body">
        <h5 class="card-title">Media punteggio anime</h5>
        <p class="card-text fs-4">{{ avg_score }}</p>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card text-bg-success">
      <div class="card-body">
        <h5 class="card-title">Totale utenti</h5>
        <p class="card-text fs-4">{{ total_users }}</p>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card text-bg-warning">
      <div class="card-body">
        <h5 class="card-title">Voci nella watchlist</h5>
        <p class="card-text fs-4">{{ total_watchlist }}</p>
      </div>
    </div>
  </div>
</div>

<h3>Top 5 Anime pi√π popolari</h3>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Anime</th>
      <th>Voti in watchlist</th>
    </tr>
  </thead>
  <tbody>
    {% for anime in top_anime %}
    <tr>
      <td>{{ anime.anime_info.title }}</td>
      <td>{{ anime.count }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
